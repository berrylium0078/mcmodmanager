# mcmodmanager

A simple(stupid) CLI tool for downloading Minecraft mods and resolving dependencies.

This might be useful if you perfer collecting mods on your own, instead of playing modpacks.

## Features

- Downloads mods and dependencies in batches from Modrinth and Curseforge, based on slugs.
  - Prefers Modrinth, for its API interface is clearer, and faster than that of Curseforge.
- Checks dependency issues based on metadata in the Jar files.

## Installation

TODO

## Usage

- Browse the mods you wish to download in the web browser, and take down their slugs from URL.
- Run `mcmod download -g [GAME_VERSION] -m [MOD_LOADER] [mods ... ]` to download them, dependencies automatically resolved based on API response.
  - Additional options:
    - Use `-r [release|beta|alpha]` to select release type, default is release.
    - Use `-p` to specify number of parallel threads for downloading, the default value is 5.
  - Environment variables:
    - `$MC_VERSION` and `$MOD_LOADER` does the same as cmd options `-g` and `-m`, but with lower priorities.
    - `$CURSEFORGE_API_KEY` stores the secret API key. ~~I have stolen one during development, sorry HMCL!~~
- Run `mcmod health [jarfiles ... ]` to check dependency issues.
  - The algorithm differs a bit from the Forge Mod Loader, but hopefully most issues will be detected.
  - It will also report the desired version range for Minecraft and your mod loader.
  - I've not tested mod loader other than (Neo)Forge, because I don't use them. (Code generated by AI)

## Notes
- Some mods only have alpha channel. If not found, retry with `-r alpha`.
- Slugs may differ on the two platforms, e.g. ae2(modrinth) and applied-energistics-2(curseforge).
- Naming of slugs can be very messy, e.g. entity-model-features, entitytexturefeatures and esf(Entity Sound Features).
- Only supports downloading the latest version that satisfies all filtering options, or else we would need an algorithm for dependency solving.
- Checker will decompress Jar files recursively.

## Shell Tips
- Run ``mcmod download `cat path/to/mods.txt` `` if you store the slugs in `path/to/mods.txt`
- Run `mcmod health /path/to/mods/*.jar` if you store 

## TODO
- Add a subcommand that uses API to query slugs of existing mod files.
- Add API rate limit and retry mechanism, especially for Curseforge API.
- Optimize version calculation. Current algorithm is O(n^2), although in most use cases n <= 1.
